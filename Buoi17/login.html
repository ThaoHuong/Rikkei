<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <style>
      body {
        margin: 0;
        padding: 0;
        background-color: #17a2b8;
        height: 100vh;
      }
      #login .container #login-row #login-column #login-box {
        margin-top: 120px;
        max-width: 600px;
        height: 320px;
        border: 1px solid #9C9C9C;
        background-color: #EAEAEA;
      }
      #login .container #login-row #login-column #login-box #login-form {
        padding: 20px;
      }
      #login .container #login-row #login-column #login-box #login-form #register-link {
        margin-top: -85px;
      }
    </style>
  </head>
  <body>
    <div id="login">
      <h3 class="text-center text-white pt-5">Login</h3>
      <div class="container">
          <div id="login-row" class="row justify-content-center align-items-center">
              <div id="login-column" class="col-md-6">
                  <div id="login-box" class="col-md-12">
                      <form id="login-form" class="form" action="" method="post">
                          <h3 class="text-center text-info">Login</h3>
                          <div class="form-group">
                              <label for="username" class="text-info">Username:</label><br>
                              <input type="text" name="username" id="username" class="form-control">
                          </div>
                          <div class="form-group">
                              <label for="password" class="text-info">Password:</label><br>
                              <input type="text" name="password" id="password" class="form-control">
                          </div>
                          <div class="form-group">
                              <label for="remember-me" class="text-info">
                                <span>Remember me</span> <span><input id="remember-me" name="remember-me" type="checkbox"></span></label><br>
                              <button id="btnlogin" class="btn btn-info btn-md submit-button" >Đăng nhập</button>
                              <button id="btnregister" class="btn btn-info register-btn">Đăng ký</button>
                              <a href="listuser.html">List User</a>
                          </div>
                      </form>
                  </div>
              </div>
          </div>
      </div>
    <!-- <p><b>Tài khoản</b> <input type="text" id="username" /></p>
    <p><b>Mật khẩu</b> <input type="password" id="password" /></p> -->
  
   
    
    <script>
      /*
        Thêm tính năng đăng ký user. User là một đối tượng gồm username, password, email, phone.
        Sau khi đăng ký thành công sẽ lưu danh sách user vào localStorage.
        Lúc đăng nhập sẽ kiểm tra thông tin username, password từ trong danh sách các đối tượng user đã đăng ký lưu ở localStorage
        */
      let btnlogin = document.getElementById("btnlogin");
      let register = document.getElementById("btnregister");
      let username = document.getElementById("username");
      let password = document.getElementById("password");

      btnlogin.onclick = () => {
        //   if (username.value == "admin" && password.value == "1234") {
        //     // Lưu session nếu đăng nhập thành công
        //     sessionStorage.setItem("username", username.value);
        //     window.location.href = "home.html";
        //   } else {
        //     alert("Sai tài khoản mật khẩu!");
        //   }
        // };
        var users = JSON.parse(localStorage.getItem("users")) || [];
        var listUser = users.find(
          (user) =>
            user.username === username.value && user.password === password.value
        );
        if (listUser) {
          sessionStorage.setItem("username", listUser.username);
          window.location.href = "home.html";
        } else {
          alert("Sai tài khoản mật khẩu!");
        }
      };
      register.onclick = () => {
        window.location.href = "register.html";
      };
    </script>
    <script src="/Buoi19/js/jquery-3.6.4.min.js"></script>
    <script src="/Buoi19/js/bootstrap.min.js"></script>
  </body>
</html>
